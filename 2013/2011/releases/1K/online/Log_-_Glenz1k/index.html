<canvas id=b><script>W=b.width=innerWidth-24;H=b.height=W/2;M=H/2;m=.5;_=Math;C=_.cos;S=_.sin;D=2*_.PI/3;A=B=G=0;function V(e,a,d){return e?[m*a[0]+m*d[0],m*a[1]+m*d[1],m*a[2]+m*d[2]]:[H+M*(a[0]*C(d)+a[2]*S(d)),M+M*a[1],a[2]*C(d)-a[0]*S(d)]}function F(e,a,d,f,g){e==7&&(F(5,0,d,f,g),F(5,0,f,g,a),F(5,0,g,a,d),F(5,0,a,d,f));if(e<7&&e>1){var h=V(1,d,f),k=V(1,f,g),n=V(1,g,d);F(e-1,1,h,k,n);F(e-1,a,d,h,n);F(e-1,a,f,k,h);F(e-1,a,g,n,k)}e==1&&F(0,a,V(0,d,G+d[1]),V(0,f,G+f[1]),V(0,g,G+g[1]));e==0&&x.push([d[2]+f[2]+g[2],a?"hsla("+4*A.toFixed(0)+",90%,50%,.7)":"hsla(0,0%,99%,1)",[d,f,g]])}function L(){with(b.getContext("2d"))for(i in fillStyle="rgba(0,0,0,.1)",fillRect(0,0,W,H),x=[],s=S(B),c=C(B),F(7,[0,s,-c],[C(A),S(A)*C(B)-m*s,m*c+S(A)*s],[C(A+D),S(A+D)*C(B)-m*s,m*c+S(A+D)*s],[C(A-D),S(A-D)*C(B)-m*s,m*c+S(A-D)*s]),x.sort(function(e,a){return e[0]-a[0]})){fillStyle=x[i][1];l=x[i][2];beginPath();for(j in l)c=l[j],j==0?moveTo(c[0],c[1]):lineTo(c[0],c[1]);fill()}A+=.011;B+=.007;G+=.005;setTimeout("L()",10)}L();</script>